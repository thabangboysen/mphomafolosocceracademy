<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Payment - Mpho Mafolo Soccer Academy</title>
  <link rel="stylesheet" href="/CSS/payment.css">
</head>
<body>
  <div class="payment-container">
    <div class="payment-header">
      <h1>üèÜ Complete Registration</h1>
      <p>Secure Payment Gateway</p>
    </div>

    <div class="player-info">
      <h2>Registration Details</h2>
      <div class="info-item">
        <span class="info-label">Player Name:</span>
        <span class="info-value" id="playerName">-</span>
      </div>
      <div class="info-item">
        <span class="info-label">Contact Email:</span>
        <span class="info-value" id="contactEmail">-</span>
      </div>
      <div class="info-item">
        <span class="info-label">Contact Phone:</span>
        <span class="info-value" id="contactPhone">-</span>
      </div>
    </div>

    <div class="payment-summary">
      <h3>Payment Summary</h3>
      <div class="fee-breakdown">
        <div class="fee-row">
          <span>Registration Fee + Team Kit</span>
          <span>R800.00</span>
        </div>
        <div class="fee-row">
          <span>First Month Training Fee</span>
          <span>R400.00</span>
        </div>
        <div class="fee-row">
          <span>Total Amount Due</span>
          <span>R1,200.00</span>
        </div>
      </div>
    </div>

    <div class="payment-methods">
      <h3>Select Payment Method</h3>
      <div class="payment-options">
        <div class="payment-option" onclick="selectPaymentMethod('bank')">
          <div class="payment-icon">üè¶</div>
          <div class="payment-details">
            <h4>Bank Transfer / EFT</h4>
            <p>Direct bank deposit or electronic transfer</p>
          </div>
        </div>
        
        <div class="payment-option" onclick="selectPaymentMethod('cash')">
          <div class="payment-icon">üíµ</div>
          <div class="payment-details">
            <h4>Cash Payment</h4>
            <p>Pay in person at training session</p>
          </div>
        </div>
      </div>

      <div class="banking-details" id="bankingDetails">
        <h4>üìã Bank Account Details</h4>
        <div class="bank-info">
          <div class="bank-row">
            <span class="bank-label">Bank Name:</span>
            <span class="bank-value">FNB</span>
          </div>
          <div class="bank-row">
            <span class="bank-label">Account Name:</span>
            <span class="bank-value">Mpho Mafolo Soccer Academy</span>
          </div>
          <div class="bank-row">
            <span class="bank-label">Account Number:</span>
            <span class="bank-value" id="accountNumber">62XXXXXXXX</span>
          </div>
          <div class="bank-row">
            <span class="bank-label">Branch Code:</span>
            <span class="bank-value">250655</span>
          </div>
          <div class="bank-row">
            <span class="bank-label">Reference:</span>
            <span class="bank-value" id="paymentReference">-</span>
          </div>
        </div>
        
        <p style="color: #92400e; font-size: 0.9rem; margin-bottom: 15px;">
          ‚ö†Ô∏è <strong>Important:</strong> Please use your player's name as the payment reference
        </p>

        <div class="proof-upload">
          <h4>Upload Proof of Payment</h4>
          <p style="color: #64748b; font-size: 0.9rem; margin-bottom: 15px;">
            After making the payment, please upload your proof of payment below
          </p>
          <div class="file-upload-wrapper">
            <input type="file" class="file-upload-input" id="proofOfPayment" accept="image/*,.pdf" onchange="handleFileUpload(this)">
            <label for="proofOfPayment" class="file-upload-btn">
              üìé Choose File (JPG, PNG, or PDF)
            </label>
          </div>
          <p id="fileName" style="margin-top: 10px; color: #10b981; font-weight: 600;"></p>
        </div>
      </div>
    </div>

    <div class="success-message" id="successMessage">
      ‚úÖ Payment proof uploaded successfully! We'll verify your payment and contact you within 24 hours.
    </div>

    <div class="action-buttons">
      <button class="btn btn-secondary" onclick="goBack()">‚Üê Back</button>
      <button class="btn btn-primary" id="submitBtn" onclick="submitPayment()">Submit Payment</button>
    </div>
  </div>

  <script>
    let selectedMethod = null;
    let uploadedFile = null;

    // Load player information from URL parameters
    window.onload = function() {
      const urlParams = new URLSearchParams(window.location.search);
      const playerName = urlParams.get('player') || 'Not specified';
      const email = urlParams.get('email') || 'Not provided';
      const phone = urlParams.get('phone') || 'Not provided';

      document.getElementById('playerName').textContent = playerName;
      document.getElementById('contactEmail').textContent = email;
      document.getElementById('contactPhone').textContent = phone;
      document.getElementById('paymentReference').textContent = playerName;
    };

    function selectPaymentMethod(method) {
      selectedMethod = method;
      
      // Remove selected class from all options
      const options = document.querySelectorAll('.payment-option');
      options.forEach(opt => opt.classList.remove('selected'));
      
      // Add selected class to clicked option
      event.currentTarget.classList.add('selected');
      
      // Show/hide banking details
      const bankingDetails = document.getElementById('bankingDetails');
      if (method === 'bank') {
        bankingDetails.classList.add('active');
      } else {
        bankingDetails.classList.remove('active');
      }
    }

    function handleFileUpload(input) {
      if (input.files && input.files[0]) {
        uploadedFile = input.files[0];
        document.getElementById('fileName').textContent = '‚úì File selected: ' + uploadedFile.name;
      }
    }

    function submitPayment() {
      if (!selectedMethod) {
        alert('Please select a payment method');
        return;
      }

      if (selectedMethod === 'bank' && !uploadedFile) {
        alert('Please upload your proof of payment');
        return;
      }

      // Show success message
      document.getElementById('successMessage').classList.add('active');
      
      // Simulate sending data (in real implementation, this would send to your backend)
      setTimeout(() => {
        alert('Thank you! Your registration has been submitted successfully.\n\nWe will verify your payment and contact you within 24 hours.\n\nFor urgent queries, contact:\nKholofelo - 068 698 4744\nEmail: infosocceracademy00@gmail.com');
        
        // Redirect back to home page
        window.location.href = '/index.html';
      }, 2000);
    }

    function goBack() {
      window.history.back();
    }
  </script>
</body>
</html>